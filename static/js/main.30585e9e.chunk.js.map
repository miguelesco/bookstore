{"version":3,"sources":["styles/GlobalStyles.js","components/navbar/styles.js","components/navbar/Navbar.jsx","redux/books/books.types.js","redux/books/books.actions.js","components/books/add-book/AddBook.jsx","components/books/books-display/BooksDisplay.jsx","components/books/MainBooks.jsx","components/categories/Categories.jsx","components/App.jsx","redux/books/books.js","redux/configureStore.js","index.js"],"names":["GlobalStyle","createGlobalStyle","NavbarContainer","styled","nav","Navbar","className","id","path","text","map","link","to","activeClassName","exact","APP_ID","BASE_URL","ADD_BOOK","REMOVE_BOOK","UPDATE_APP_ID","UPDATE_BOOKS","fetchRemoveBooks","dispatch","axios","delete","then","type","removeBook","catch","err","console","log","fetchAddNewBook","newBook","post","payload","fetchGetBooks","get","response","data","error","options","name","AddBook","useDispatch","useState","item_id","uuid","title","category","book","setBook","onInputChange","e","target","value","onSubmit","preventDefault","placeholder","onChange","defaultValue","disabled","option","BooksDisplay","props","bookList","onClick","MainBooks","store","useSelector","state","useEffect","booksReducer","Categories","App","GlobalStyles","react","PureComponent","initialState","BookReducer","action","booksList","push","filter","fetchBooks","Object","keys","key","i","reducer","combineReducers","createStore","applyMiddleware","logger","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30585e9e.chunk.js","sourcesContent":["/* eslint-disable linebreak-style */\r\nimport { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\r\n  html, body {  \r\n    height: 100%; \r\n    width: 100%;  \r\n    margin: 0;  \r\n    padding: 0; \r\n  }     \r\n  body {\r\n    background-color: #f6f6f6;\r\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #333;\r\n  }\r\n\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","/* eslint-disable linebreak-style */\r\nimport styled from 'styled-components';\r\n\r\nconst NavbarContainer = styled.nav`\r\n  background-color: #fff;\r\n  border-bottom: 1px solid #e5e5e5;\r\n  box-shadow: 0 1px 0 rgba(9, 30, 66, 0.05);\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 0.5rem 1rem;\r\n  width: 100%;\r\n  z-index: 1;\r\n  box-sizing: border-box;\r\n  ul {\r\n    flex-direction: row;\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    list-style: none;\r\n  }\r\n`;\r\n\r\nexport default NavbarContainer;\r\n","/* eslint-disable linebreak-style */\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport NavbarContainer from './styles';\r\n\r\nconst Navbar = () => {\r\n  const links = [\r\n    {\r\n      id: 1,\r\n      path: '/',\r\n      text: 'BOOKS',\r\n    },\r\n    {\r\n      id: 2,\r\n      path: '/category',\r\n      text: 'CATEGORIES',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <NavbarContainer>\r\n      <h1 className=\"logo\">\r\n        Bookstore CMS\r\n      </h1>\r\n      <ul>\r\n        {links.map((link) => (\r\n          <li key={link.id}>\r\n            <NavLink\r\n              to={link.path}\r\n              className=\"link\"\r\n              activeClassName=\"active-link\"\r\n              exact\r\n            >\r\n              {link.text}\r\n            </NavLink>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </NavbarContainer>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","/* eslint-disable linebreak-style */\r\nexport const APP_ID = '8EPqoHVpV2L7IeE6wrKn';\r\nexport const BASE_URL = 'https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi';\r\nexport const ADD_BOOK = 'bookStore/books/ADD_BOOK';\r\nexport const REMOVE_BOOK = 'bookStore/books/REMOVE_BOOK';\r\nexport const UPDATE_APP_ID = 'bookStore/books/UPDATE_APP_ID';\r\nexport const UPDATE_BOOKS = 'bookStore/books/UPDATE_BOOKS';\r\n","/* eslint-disable linebreak-style */\r\n/* eslint-disable no-console */\r\nimport axios from 'axios';\r\nimport {\r\n  ADD_BOOK, APP_ID, BASE_URL, REMOVE_BOOK, UPDATE_APP_ID, UPDATE_BOOKS,\r\n} from './books.types';\r\n\r\nexport const addBook = (payload) => ({\r\n  type: ADD_BOOK,\r\n  payload,\r\n});\r\n\r\nexport const updateBooks = (payload) => ({\r\n  type: UPDATE_BOOKS,\r\n  payload,\r\n});\r\n\r\nexport const removeBook = (id) => ({\r\n  type: REMOVE_BOOK,\r\n  id,\r\n});\r\n\r\nexport const updateAppId = (id) => ({\r\n  type: UPDATE_APP_ID,\r\n  id,\r\n});\r\n\r\nexport const fetchRemoveBooks = (id) => (dispatch) => {\r\n  axios.delete(`${BASE_URL}/apps/${APP_ID}/books/${id}`)\r\n    .then(() => {\r\n      dispatch(removeBook(id));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getAppId = () => (dispatch) => {\r\n  axios.post(`${BASE_URL}/apps`)\r\n    .then((res) => {\r\n      dispatch(updateAppId(res.data));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const fetchAddNewBook = (newBook) => (dispatch) => {\r\n  axios.post(`${BASE_URL}/apps/${APP_ID}/books`, newBook)\r\n    .then(() => {\r\n      dispatch(addBook(newBook));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const fetchGetBooks = () => (dispatch) => {\r\n  try {\r\n    axios.get(`${BASE_URL}/apps/${APP_ID}/books`)\r\n      .then((response) => {\r\n        dispatch(updateBooks(response.data));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","/* eslint-disable linebreak-style */\r\nimport { useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchAddNewBook } from '../../../redux/books/books.actions';\r\n\r\nconst options = [\r\n  { id: 1, name: 'tech' },\r\n  { id: 2, name: 'business' },\r\n  { id: 3, name: 'science' },\r\n  { id: 4, name: 'health' },\r\n  { id: 5, name: 'entertainment' },\r\n  { id: 6, name: 'sports' },\r\n  { id: 7, name: 'travel' },\r\n  { id: 8, name: 'food' },\r\n];\r\n\r\nconst AddBook = () => {\r\n  const dispatch = useDispatch();\r\n  const [book, setBook] = useState({\r\n    item_id: uuid(),\r\n    title: '',\r\n    category: '',\r\n  });\r\n  const handdleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(fetchAddNewBook(book));\r\n    setBook({\r\n      item_id: uuid(),\r\n      title: '',\r\n      category: '',\r\n    });\r\n  };\r\n  const onInputChange = (e) => {\r\n    setBook({\r\n      ...book,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"add-book\">\r\n      <h1>Add Book</h1>\r\n      <form onSubmit={handdleSubmit}>\r\n        <input value={book.title} name=\"title\" placeholder=\"Add a title book\" onChange={(e) => onInputChange(e)} />\r\n        <select name=\"category\" defaultValue=\"category\" onChange={(e) => onInputChange(e)}>\r\n          <option value=\"category\" disabled>Category</option>\r\n          {options.map((option) => (\r\n            <option\r\n              key={option.id}\r\n              value={option.name}\r\n            >\r\n              {option.name}\r\n            </option>\r\n          ))}\r\n\r\n        </select>\r\n        <button type=\"submit\">ADD BOOK</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddBook;\r\n","/* eslint-disable linebreak-style */\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchRemoveBooks } from '../../../redux/books/books.actions';\r\n\r\nconst BooksDisplay = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { bookList } = props;\r\n  const removeElement = (id) => {\r\n    dispatch(fetchRemoveBooks(id));\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Books Display</h1>\r\n      <ul>\r\n        {bookList.map((book) => (\r\n          <div key={book.item_id}>\r\n            <li>\r\n              {book.title}\r\n              {' '}\r\n              {book.category}\r\n            </li>\r\n            <button type=\"button\" onClick={() => removeElement(book.item_id)}>Remove</button>\r\n          </div>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\nexport default BooksDisplay;\r\n\r\nBooksDisplay.propTypes = {\r\n  bookList: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      item_id: PropTypes.string.isRequired,\r\n      title: PropTypes.string,\r\n      category: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n};\r\n","/* eslint-disable linebreak-style */\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchGetBooks } from '../../redux/books/books.actions';\r\nimport AddBook from './add-book/AddBook';\r\nimport BooksDisplay from './books-display/BooksDisplay';\r\n\r\nconst MainBooks = () => {\r\n  const store = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchGetBooks());\r\n  }, []);\r\n  const bookList = store.booksReducer;\r\n\r\n  return (\r\n    <div>\r\n      <h1>Books</h1>\r\n      <BooksDisplay bookList={bookList} />\r\n      <AddBook />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainBooks;\r\n","/* eslint-disable linebreak-style */\r\nconst Categories = () => (\r\n  <div className=\"categories\">\r\n    <h3>Under construcciont</h3>\r\n  </div>\r\n);\r\n\r\nexport default Categories;\r\n","/* eslint-disable linebreak-style */\r\nimport react from 'react';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\nimport GlobalStyles from '../styles/GlobalStyles';\r\nimport Navbar from './navbar/Navbar';\r\nimport MainBooks from './books/MainBooks';\r\nimport Categories from './categories/Categories';\r\n\r\nclass App extends react.PureComponent {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <GlobalStyles />\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <MainBooks />\r\n          </Route>\r\n          <Route path=\"/category\">\r\n            <Categories />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","/* eslint-disable linebreak-style */\r\nimport uuid from 'react-uuid';\r\nimport {\r\n  ADD_BOOK, REMOVE_BOOK, UPDATE_APP_ID, UPDATE_BOOKS,\r\n} from './books.types';\r\n\r\nconst initialState = [\r\n  {\r\n    item_id: uuid(),\r\n    title: \"The Handmaid's Tale\",\r\n    category: 'Fiction',\r\n  },\r\n  {\r\n    item_id: uuid(),\r\n    title: 'Great Expectations',\r\n    category: 'Classics',\r\n  },\r\n];\r\n\r\nconst BookReducer = (state = initialState, action) => {\r\n  let booksList = [...state];\r\n  switch (action.type) {\r\n    case ADD_BOOK:\r\n      booksList.push(action.payload);\r\n      return booksList;\r\n\r\n    case REMOVE_BOOK:\r\n      booksList = booksList.filter((book) => book.item_id !== action.id);\r\n      return booksList;\r\n\r\n    case UPDATE_BOOKS: {\r\n      const fetchBooks = Object.keys(action.payload)\r\n        .map((key, i) => {\r\n          // if the item_id is repeated change it to a new one\r\n          if (key === state[i].item_id) {\r\n            return {\r\n              ...state[i],\r\n              ...action.payload[key],\r\n            };\r\n          }\r\n          return { ...action.payload[key][0], item_id: key };\r\n        });\r\n      booksList = [...booksList, ...fetchBooks];\r\n      return booksList;\r\n    }\r\n    case UPDATE_APP_ID:\r\n      // APP_ID = action.id;\r\n      return booksList;\r\n\r\n    default:\r\n      return booksList;\r\n  }\r\n};\r\n\r\nexport default BookReducer;\r\n","/* eslint-disable linebreak-style */\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport booksReducer from './books/books';\r\n\r\nconst reducer = combineReducers({\r\n  booksReducer,\r\n  // additional reducers could be added here\r\n});\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(logger, thunk),\r\n);\r\n\r\nexport default store;\r\n","/* eslint-disable linebreak-style */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './components/App';\r\nimport store from './redux/configureStore';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}